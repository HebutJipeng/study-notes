本功能的目的是为了提供运营同学更好的发布站内文章和动态的素材；所以做了一个实时爬取微信公众号文章并生成素材的功能；

1. 是爬的dom?还是爬的文件
    是通过puppeteer爬的dom，因为微信的文章展示是一个在前端组装信息的过程，不能简单通过请求html文件解析进行获取；

2. 如何做绕过反爬？
    所以我使用了puppeteer，一个chrome开源的无头浏览器来渲染微信文章页面，并且获取对应的content dom进行解析；

3. 图片缓存策略
    在缓存图片的时候也遇到了防盗链的问题；
        防盗链的实现方式： ip黑白名单； 控制referer； 时间戳防盗链； 中心鉴权；
    自己做了个转换二进制流的工具方法，通过url由node请求图片，绕过referer的判断，返回给我方cms图片的二进制流进行展示，然后运营选定使用 的图片后，把二进制流进行上传。

4. 如何做图片上传？
    走一个内部封装好的七牛服务；当然也有的业务使用的是浏览器直传；